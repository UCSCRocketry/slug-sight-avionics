; PlatformIO Project Configuration - ROCKET FEATHER M4
; This firmware runs on the rocket's Feather M4 Express
; Reads sensors and transmits telemetry via LoRa

[env:rocket_feather_m4]
platform = atmelsam
board = adafruit_feather_m4
framework = arduino

monitor_speed = 115200

build_flags = 
    -DARDUINO_SAMD_FEATHER_M4
    -D__SAMD51__
    -DARM_MATH_CM4

lib_deps = 
    ; RadioHead for LoRa (RFM95W)
    mikem/RadioHead@^1.120
    
    ; Adafruit unified sensor framework
    adafruit/Adafruit BusIO@^1.14.1
    adafruit/Adafruit Unified Sensor@^1.1.9
    
    ; BMP280 Barometer (SPI)
    adafruit/Adafruit BMP280 Library@^2.6.6
    
    ; LSM6DSOX IMU (I2C)
    adafruit/Adafruit LSM6DS@^4.6.3
    
    ; LIS3MDL Magnetometer (I2C)
    adafruit/Adafruit LIS3MDL@^2.1.1
    
    ; GPS (UART)
    adafruit/Adafruit GPS Library@^1.7.2

upload_protocol = sam-ba
